import React, { useState, useEffect, useRef } from 'react';
import styles from './AsciiGenerator.module.css';

const AsciiGenerator = ({ isOpen, onClose }) => {
  const [text, setText] = useState('HELLO');
  const [font, setFont] = useState('block');
  const [effect, setEffect] = useState('none');
  const [isAnimating, setIsAnimating] = useState(false);
  const animationRef = useRef(null);
  const frameRef = useRef(0);
  const previewRef = useRef(null);

  // Complete alphabet patterns for all fonts
  const FONT_PATTERNS = {
    block: {
      'A': ['  â–ˆâ–ˆ  ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'B': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'C': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆ    ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'D': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'E': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'F': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆ    '],
      'G': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'H': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'I': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'J': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', '    â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'K': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆ ', 'â–ˆâ–ˆâ–ˆâ–ˆ  ', 'â–ˆâ–ˆ â–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'L': ['â–ˆâ–ˆ    ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'M': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'N': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆ â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'O': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'P': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆ    '],
      'Q': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'R': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'S': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'T': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  '],
      'U': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'V': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', '  â–ˆâ–ˆ  '],
      'W': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'X': ['â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      'Y': ['â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  '],
      'Z': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '   â–ˆâ–ˆ ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆ   ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '0': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆ â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '1': ['  â–ˆâ–ˆ  ', ' â–ˆâ–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '2': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '3': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '4': ['â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', '    â–ˆâ–ˆ'],
      '5': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '6': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '7': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', '   â–ˆâ–ˆ ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆ   '],
      '8': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '9': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      ' ': ['      ', '      ', '      ', '      ', '      '],
      '!': ['  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '      ', '  â–ˆâ–ˆ  '],
      '?': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆ', '  â–ˆâ–ˆâ–ˆâ–ˆ', '      ', '  â–ˆâ–ˆ  '],
      '.': ['      ', '      ', '      ', '      ', '  â–ˆâ–ˆ  '],
      ',': ['      ', '      ', '      ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆ   '],
      ':': ['      ', '  â–ˆâ–ˆ  ', '      ', '  â–ˆâ–ˆ  ', '      '],
      ';': ['      ', '  â–ˆâ–ˆ  ', '      ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆ   '],
      '-': ['      ', '      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '      ', '      '],
      '+': ['      ', '  â–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '  â–ˆâ–ˆ  ', '      '],
      '=': ['      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '      '],
      '/': ['    â–ˆâ–ˆ', '   â–ˆâ–ˆ ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆ   ', 'â–ˆâ–ˆ    '],
      '\\': ['â–ˆâ–ˆ    ', ' â–ˆâ–ˆ   ', '  â–ˆâ–ˆ  ', '   â–ˆâ–ˆ ', '    â–ˆâ–ˆ'],
      '(': ['   â–ˆâ–ˆ ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '   â–ˆâ–ˆ '],
      ')': [' â–ˆâ–ˆ   ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆ   '],
      '[': ['  â–ˆâ–ˆâ–ˆâ–ˆ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆâ–ˆâ–ˆ'],
      ']': ['â–ˆâ–ˆâ–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', '  â–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆ  '],
      '@': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ â–ˆ â–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '#': [' â–ˆâ–ˆ â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆ â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆ â–ˆâ–ˆ'],
      '$': ['  â–ˆâ–ˆ  ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '  â–ˆâ–ˆ  '],
      '%': ['â–ˆâ–ˆ  â–ˆâ–ˆ', '   â–ˆâ–ˆ ', '  â–ˆâ–ˆ  ', ' â–ˆâ–ˆ   ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      '^': ['  â–ˆâ–ˆ  ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', '      ', '      '],
      '&': [' â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      '*': ['â–ˆâ–ˆ  â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ'],
      '_': ['      ', '      ', '      ', '      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ']
    },

    shadow: {
      'A': ['  â–“â–“â–“â–“  ', ' â–“â–“â–“â–“â–“â–“ ', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'B': ['â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'C': [' â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“     ', 'â–“â–“â–“     ', 'â–“â–“â–“     ', ' â–“â–“â–“â–“â–“â–“â–“', ' â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'D': ['â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'E': ['â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“     ', 'â–“â–“â–“â–“â–“â–“â–“ ', 'â–“â–“â–“     ', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'F': ['â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“     ', 'â–“â–“â–“â–“â–“â–“â–“ ', 'â–“â–“â–“     ', 'â–“â–“â–“     ', 'â–‘â–‘â–‘     '],
      'G': [' â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“     ', 'â–“â–“â–“ â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', ' â–“â–“â–“â–“â–“â–“â–“', ' â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'H': ['â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'I': ['â–“â–“â–“â–“â–“â–“â–“â–“', '  â–“â–“â–“   ', '  â–“â–“â–“   ', '  â–“â–“â–“   ', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'J': ['â–“â–“â–“â–“â–“â–“â–“â–“', '    â–“â–“â–“ ', '    â–“â–“â–“ ', 'â–“â–“â–“ â–“â–“â–“ ', ' â–“â–“â–“â–“â–“â–“â–“', ' â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'K': ['â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“ â–“â–“â–“ ', 'â–“â–“â–“â–“â–“   ', 'â–“â–“â–“ â–“â–“â–“ ', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'L': ['â–“â–“â–“     ', 'â–“â–“â–“     ', 'â–“â–“â–“     ', 'â–“â–“â–“     ', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'M': ['â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'N': ['â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“ â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“ â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'O': [' â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', ' â–“â–“â–“â–“â–“â–“â–“', ' â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'P': ['â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“     ', 'â–“â–“â–“     ', 'â–‘â–‘â–‘     '],
      'Q': [' â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“ â–“â–“â–“â–“', ' â–“â–“â–“â–“â–“â–“â–“â–“', ' â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'R': ['â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“ â–“â–“â–“ ', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'S': [' â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“     ', ' â–“â–“â–“â–“â–“â–“â–“', '     â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“ ', 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘ '],
      'T': ['â–“â–“â–“â–“â–“â–“â–“â–“', '  â–“â–“â–“   ', '  â–“â–“â–“   ', '  â–“â–“â–“   ', '  â–“â–“â–“   ', '  â–‘â–‘â–‘   '],
      'U': ['â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', ' â–“â–“â–“â–“â–“â–“â–“', ' â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      'V': ['â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', ' â–“â–“â–“â–“â–“  ', '  â–“â–“â–“   ', '  â–‘â–‘â–‘   '],
      'W': ['â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'X': ['â–“â–“â–“  â–“â–“â–“', ' â–“â–“â–“â–“â–“  ', '  â–“â–“â–“   ', ' â–“â–“â–“â–“â–“  ', 'â–“â–“â–“  â–“â–“â–“', 'â–‘â–‘â–‘  â–‘â–‘â–‘'],
      'Y': ['â–“â–“â–“  â–“â–“â–“', ' â–“â–“â–“â–“â–“  ', '  â–“â–“â–“   ', '  â–“â–“â–“   ', '  â–“â–“â–“   ', '  â–‘â–‘â–‘   '],
      'Z': ['â–“â–“â–“â–“â–“â–“â–“â–“', '   â–“â–“â–“  ', '  â–“â–“â–“   ', ' â–“â–“â–“    ', 'â–“â–“â–“â–“â–“â–“â–“â–“', 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘'],
      ' ': ['        ', '        ', '        ', '        ', '        ', '        ']
    },

    outline: {
      'A': ['  â–ˆâ–ˆâ–ˆâ–ˆ  ', ' â–ˆâ–ˆ  â–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'B': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'C': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆ      ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'D': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ', 'â–ˆâ–ˆ   â–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ   â–ˆâ–ˆ ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  '],
      'E': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'F': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆ      '],
      'G': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'H': ['â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'I': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '   â–ˆâ–ˆ   ', '   â–ˆâ–ˆ   ', '   â–ˆâ–ˆ   ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'J': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '     â–ˆâ–ˆ ', '     â–ˆâ–ˆ ', 'â–ˆâ–ˆ   â–ˆâ–ˆ ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'K': ['â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ  â–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ', 'â–ˆâ–ˆ  â–ˆâ–ˆ  ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'L': ['â–ˆâ–ˆ      ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'M': ['â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'N': ['â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'O': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'P': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ      ', 'â–ˆâ–ˆ      '],
      'Q': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'R': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ  â–ˆâ–ˆ  ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'S': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ      ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', '      â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'T': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '   â–ˆâ–ˆ   ', '   â–ˆâ–ˆ   ', '   â–ˆâ–ˆ   ', '   â–ˆâ–ˆ   '],
      'U': ['â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'V': ['â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', '   â–ˆâ–ˆ   '],
      'W': ['â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'X': ['â–ˆâ–ˆ    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', '   â–ˆâ–ˆ   ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆ    â–ˆâ–ˆ'],
      'Y': ['â–ˆâ–ˆ    â–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', '   â–ˆâ–ˆ   ', '   â–ˆâ–ˆ   ', '   â–ˆâ–ˆ   '],
      'Z': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '     â–ˆâ–ˆ ', '   â–ˆâ–ˆ   ', ' â–ˆâ–ˆ     ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      ' ': ['        ', '        ', '        ', '        ', '        ']
    },

    thick: {
      'A': ['   â–ˆâ–ˆâ–ˆâ–ˆ   ', '  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'B': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'C': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'D': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'E': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'F': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ        '],
      'G': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'H': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'I': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆâ–ˆâ–ˆ    ', '    â–ˆâ–ˆâ–ˆâ–ˆ    ', '    â–ˆâ–ˆâ–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'J': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '        â–ˆâ–ˆâ–ˆâ–ˆ', '        â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'K': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    ', 'â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'L': ['â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'M': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'N': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'O': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'P': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', 'â–ˆâ–ˆâ–ˆâ–ˆ        '],
      'Q': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      'R': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ  ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'S': [' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ        ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ', '        â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'T': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '    â–ˆâ–ˆâ–ˆâ–ˆ    ', '    â–ˆâ–ˆâ–ˆâ–ˆ    ', '    â–ˆâ–ˆâ–ˆâ–ˆ    ', '    â–ˆâ–ˆâ–ˆâ–ˆ    '],
      'U': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ '],
      'V': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ', '   â–ˆâ–ˆâ–ˆâ–ˆ     '],
      'W': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'X': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ', '   â–ˆâ–ˆâ–ˆâ–ˆ     ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ', 'â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ'],
      'Y': ['â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ', ' â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ', '   â–ˆâ–ˆâ–ˆâ–ˆ     ', '   â–ˆâ–ˆâ–ˆâ–ˆ     ', '   â–ˆâ–ˆâ–ˆâ–ˆ     '],
      'Z': ['â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', '      â–ˆâ–ˆâ–ˆâ–ˆ  ', '   â–ˆâ–ˆâ–ˆâ–ˆ     ', ' â–ˆâ–ˆâ–ˆâ–ˆ       ', 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ'],
      ' ': ['            ', '            ', '            ', '            ', '            ']
    },

    slim: {
      'A': [' /\\ ', '/  \\', '----', '|  |'],
      'B': ['|--\\', '|--/', '|--\\', '|--/'],
      'C': [' ---', '|   ', '|   ', ' ---'],
      'D': ['|-- ', '|  \\', '|  /', '|-- '],
      'E': ['----', '|-- ', '----', '----'],
      'F': ['----', '|-- ', '----', '|   '],
      'G': [' ---', '| --', '|  |', ' ---'],
      'H': ['|  |', '|--|', '|  |', '|  |'],
      'I': ['----', ' || ', ' || ', '----'],
      'J': ['----', '  | ', '| | ', ' -- '],
      'K': ['| |', '|/ ', '^  ', '| |'],
      'L': ['|   ', '|   ', '|   ', '----'],
      'M': ['|\\|/', '| | ', '| | ', '| | '],
      'N': ['|\\ |', '| \\|', '|  |', '|  |'],
      'O': [' -- ', '|  |', '|  |', ' -- '],
      'P': ['|--\\', '|--/', '|   ', '|   '],
      'Q': [' -- ', '| |', '|\\|', ' -\\'],
      'R': ['|--\\', '|--/', '|\\  ', '| \\ '],
      'S': [' ---', ' -- ', '--- ', ' -- '],
      'T': ['----', ' || ', ' || ', ' || '],
      'U': ['|  |', '|  |', '|  |', ' -- '],
      'V': ['|  |', '|  |', ' \\/ ', '  | '],
      'W': ['| | ', '| | ', '| | ', '\\|/'],
      'X': ['|  |', ' \\/ ', ' /\\ ', '|  |'],
      'Y': ['|  |', ' \\/ ', '  | ', '  | '],
      'Z': ['----', '  / ', ' /  ', '----'],
      ' ': ['    ', '    ', '    ', '    ']
    },

    double: {
      'A': ['  â•”â•—  ', ' â•”â•â•šâ•— ', 'â•”â•©â•â•â•©â•—', 'â•    â•š'],
      'B': ['â•”â•â•â•â•— ', 'â• â•â•â•â•£ ', 'â• â•â•â•â•£ ', 'â•šâ•â•â•â• '],
      'C': [' â•”â•â•â•â•—', ' â•‘    ', ' â•‘    ', ' â•šâ•â•â•â•'],
      'D': ['â•”â•â•â•â•— ', 'â•‘   â•‘ ', 'â•‘   â•‘ ', 'â•šâ•â•â•â• '],
      'E': ['â•”â•â•â•â•â•—', 'â• â•â•   ', 'â• â•â•â•â•â•£', 'â•šâ•â•â•â•â•'],
      'F': ['â•”â•â•â•â•â•—', 'â• â•â•   ', 'â• â•â•â•â• ', 'â•‘     '],
      'G': [' â•”â•â•â•â•—', ' â•‘ â•â•â•£', ' â•‘   â•‘', ' â•šâ•â•â•â•'],
      'H': ['â•”â•—  â•”â•—', 'â• â•¬â•â•â•¬â•£', 'â•‘â•‘  â•‘â•‘', 'â•šâ•  â•šâ•'],
      'I': ['â•”â•â•â•â•â•—', '  â•‘â•‘  ', '  â•‘â•‘  ', 'â•šâ•â•â•â•â•'],
      'J': ['â•”â•â•â•â•â•—', '    â•‘â•‘', 'â•”â•—  â•‘â•‘', 'â•šâ•šâ•â•â•â•'],
      'K': ['â•‘â•‘  â•‘â•‘', 'â•‘â•šâ•—â•”â• ', 'â•‘ â•šâ•—  ', 'â•‘â•‘  â•‘â•‘'],
      'L': ['â•‘     ', 'â•‘     ', 'â•‘     ', 'â•šâ•â•â•â•â•'],
      'M': ['â•‘â•‘  â•‘â•‘', 'â•‘â• â•â•â•£â•‘', 'â•‘â•‘  â•‘â•‘', 'â•‘â•‘  â•‘â•‘'],
      'N': ['â•‘â•—  â•‘â•‘', 'â•‘â•šâ•— â•‘â•‘', 'â•‘ â•šâ•—â•‘â•‘', 'â•‘  â•šâ•â•‘'],
      'O': [' â•”â•â•â•â•—', ' â•‘   â•‘', ' â•‘   â•‘', ' â•šâ•â•â•â•'],
      'P': ['â•”â•â•â•â•— ', 'â•‘   â•‘ ', 'â• â•â•â•â•£ ', 'â•‘     '],
      'Q': [' â•”â•â•â•â•—', ' â•‘   â•‘', ' â•‘ â•”â•â•‘', ' â•šâ•â•šâ•â•'],
      'R': ['â•”â•â•â•â•— ', 'â•‘   â•‘ ', 'â• â•â•â•â•£ ', 'â•‘   â•‘ '],
      'S': [' â•”â•â•â•â•—', ' â•šâ•â•â•â•—', ' â•”â•â•â•â•', ' â•šâ•â•â•â•'],
      'T': ['â•”â•â•â•â•â•—', '  â•‘â•‘  ', '  â•‘â•‘  ', '  â•šâ•  '],
      'U': ['â•‘â•‘  â•‘â•‘', 'â•‘â•‘  â•‘â•‘', 'â•‘â•‘  â•‘â•‘', 'â•šâ•šâ•â•â•â•'],
      'V': ['â•‘â•‘  â•‘â•‘', 'â•‘â•‘  â•‘â•‘', ' â•šâ•—â•”â• ', '  â•šâ•  '],
      'W': ['â•‘â•‘  â•‘â•‘', 'â•‘â•‘  â•‘â•‘', 'â•‘â• â•â•â•£â•‘', 'â•‘â•‘  â•‘â•‘'],
      'X': ['â•‘â•‘  â•‘â•‘', ' â•šâ•—â•”â• ', ' â•”â•â•šâ•— ', 'â•‘â•‘  â•‘â•‘'],
      'Y': ['â•‘â•‘  â•‘â•‘', ' â•šâ•—â•”â• ', '  â•‘â•‘  ', '  â•šâ•  '],
      'Z': ['â•”â•â•â•â•â•—', '   â•”â• ', '  â•”â•  ', 'â•”â•â•â•â•â•'],
      ' ': ['      ', '      ', '      ', '      ']
    }
  };

  // Effects
  const effects = {
    wave: (text, frame) => {
      return text.split('\n').map((line, i) => {
        const offset = Math.sin((frame * 0.1) + (i * 0.5)) * 4;
        return ' '.repeat(Math.max(0, Math.floor(offset))) + line;
      }).join('\n');
    },
    
    rainbow: (text, frame) => {
      const colors = ['#ff0000', '#ff7f00', '#ffff00', '#00ff00', '#0000ff', '#4b0082', '#9400d3'];
      return text.split('').map((char, i) => {
        if (char === '\n') return char;
        const colorIndex = (Math.floor(frame * 0.1) + i) % colors.length;
        return `<span style="color: ${colors[colorIndex]}">${char}</span>`;
      }).join('');
    },
    
    matrix: (text, frame) => {
      const chars = '01ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
      return text.split('').map((char, i) => {
        if (char === ' ' || char === '\n') return char;
        if (Math.random() < 0.08) {
          return chars[Math.floor(Math.random() * chars.length)];
        }
        return char;
      }).join('');
    },
    
    glow: (text, frame) => {
      const intensity = Math.sin(frame * 0.1) * 0.5 + 0.5;
      const glowColor = `rgba(88, 166, 255, ${intensity})`;
      return `<span style="text-shadow: 0 0 10px ${glowColor}, 0 0 20px ${glowColor}, 0 0 30px ${glowColor};">${text}</span>`;
    },
    
    neon: (text, frame) => {
      const colors = ['#ff0080', '#00ff80', '#8000ff', '#ff8000'];
      const colorIndex = Math.floor((frame * 0.05) % colors.length);
      const color = colors[colorIndex];
      return `<span style="color: ${color}; text-shadow: 0 0 5px ${color}, 0 0 10px ${color}, 0 0 15px ${color};">${text}</span>`;
    }
  };

  // Generate ASCII art with proper word wrapping
  const generateAsciiArt = (inputText, fontStyle) => {
    if (!inputText.trim()) {
      return 'ğŸ¨ Enter some text to generate ASCII art!\n\nâœ¨ Try different fonts and effects for amazing results!';
    }

    const words = inputText.toUpperCase().split(' ');
    const pattern = FONT_PATTERNS[fontStyle] || FONT_PATTERNS.block;
    const height = fontStyle === 'shadow' ? 6 : (fontStyle === 'slim' ? 4 : 5);
    
    // Calculate max characters per line (approximate)
    const maxCharsPerLine = Math.floor(80 / 8); // Assuming each char is ~8 units wide
    
    let result = [];
    let currentLine = [];
    let currentLength = 0;

    words.forEach(word => {
      // Check if adding this word would exceed the line length
      if (currentLength + word.length + 1 > maxCharsPerLine && currentLine.length > 0) {
        // Process current line
        const lineArt = generateLineArt(currentLine.join(' '), pattern, height);
        result.push(lineArt);
        result.push(''); // Add spacing between lines
        
        // Start new line
        currentLine = [word];
        currentLength = word.length;
      } else {
        currentLine.push(word);
        currentLength += word.length + (currentLine.length > 1 ? 1 : 0);
      }
    });

    // Process the last line
    if (currentLine.length > 0) {
      const lineArt = generateLineArt(currentLine.join(' '), pattern, height);
      result.push(lineArt);
    }

    return result.join('\n');
  };

  const generateLineArt = (text, pattern, height) => {
    const lines = Array(height).fill('');
    
    for (let char of text) {
      const charPattern = pattern[char] || pattern[' '];
      for (let i = 0; i < height; i++) {
        lines[i] += (charPattern[i] || ' '.repeat(charPattern[0]?.length || 6)) + '  ';
      }
    }
    
    return lines.join('\n');
  };

  // Animation loop
  const animate = () => {
    if (!isAnimating) return;
    
    let ascii = generateAsciiArt(text, font);
    
    if (effect !== 'none' && effects[effect]) {
      ascii = effects[effect](ascii, frameRef.current);
    }
    
    if (previewRef.current) {
      previewRef.current.innerHTML = ascii;
    }
    
    frameRef.current++;
    animationRef.current = requestAnimationFrame(animate);
  };

  // Start/stop animation
  const toggleAnimation = () => {
    if (isAnimating) {
      setIsAnimating(false);
      if (animationRef.current) {
        cancelAnimationFrame(animationRef.current);
      }
    } else {
      setIsAnimating(true);
      frameRef.current = 0;
    }
  };

  // Generate static art
  const generateStatic = () => {
    if (isAnimating) {
      setIsAnimating(false);
      if (animationRef.current) {
        cancelAnimationFrame(animationRef.current);
      }
    }
    
    const ascii = generateAsciiArt(text, font);
    if (previewRef.current) {
      previewRef.current.innerHTML = ascii;
    }
  };

  // Copy to clipboard
  const copyToClipboard = () => {
    if (previewRef.current) {
      navigator.clipboard.writeText(previewRef.current.textContent);
    }
  };

  // Effects
  useEffect(() => {
      generateStatic();
      // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [text, font]);

  useEffect(() => {
    if (isAnimating) {
      animate();
    }
    return () => {
      if (animationRef.current) {
        cancelAnimationFrame(animationRef.current);
      }
    };
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [isAnimating, font, effect]);

  if (!isOpen) return null;

  return (
    <div className={styles.container}>
      <div className={styles.header}>
        <div className={styles.headerLeft}>
          <span className={styles.icon}>ğŸ¨</span>
          <span className={styles.title}>3D ASCII Art Generator</span>
          <span className={styles.version}>v3.0</span>
        </div>
        <button className={styles.closeButton} onClick={onClose}>
          âœ• CLOSE
        </button>
      </div>

      <div className={styles.controls}>
        <div className={styles.controlGroup}>
          <label className={styles.label}>TEXT INPUT</label>
          <input
            type="text"
            value={text}
            onChange={(e) => setText(e.target.value)}
            placeholder="Enter your text..."
            className={styles.textInput}
          />
        </div>

        <div className={styles.controlGroup}>
          <label className={styles.label}>FONT STYLE</label>
          <select
            value={font}
            onChange={(e) => setFont(e.target.value)}
            className={styles.select}
          >
            <option value="block">â–  Block</option>
            <option value="shadow">â–“ Shadow</option>
            <option value="outline">â—¯ Outline</option>
            <option value="thick">â–ˆ Thick</option>
            <option value="slim">â”‚ Slim</option>
            <option value="double">â• Double</option>
          </select>
        </div>

        <div className={styles.controlGroup}>
          <label className={styles.label}>EFFECT</label>
          <select
            value={effect}
            onChange={(e) => setEffect(e.target.value)}
            className={styles.select}
          >
            <option value="none">None</option>
            <option value="wave">ğŸŒŠ Wave</option>
            <option value="rainbow">ğŸŒˆ Rainbow</option>
            <option value="matrix">ğŸ“± Matrix</option>
            <option value="glow">âœ¨ Glow</option>
            <option value="neon">ğŸ’« Neon</option>
          </select>
        </div>

        <div className={styles.buttonGroup}>
          <button className={styles.generateButton} onClick={generateStatic}>
            ğŸš€ Generate
          </button>
          <button 
            className={`${styles.animateButton} ${isAnimating ? styles.animating : ''}`}
            onClick={toggleAnimation}
          >
            {isAnimating ? 'â¸ Stop' : 'â–¶ Animate'}
          </button>
          <button className={styles.copyButton} onClick={copyToClipboard}>
            ğŸ“‹ Copy
          </button>
        </div>
      </div>

      <div className={styles.preview} ref={previewRef}>
        {generateAsciiArt(text, font)}
      </div>
    </div>
  );
};

export default AsciiGenerator;
